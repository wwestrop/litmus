<html>
<head>
	<link rel="stylesheet" href="./css/shell.scss" />
	<link rel="stylesheet" href="./css/tree.scss" />
	<!-- TODO embed the font-->
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
</head>

<body>



	<!--<throbber-shell0></throbber-shell0>-->
	<!--<throbber-shell1></throbber-shell1>
	<throbber-shell2></throbber-shell2>-->

	<x-shell>
		<x-toolbar>
			<button id="btnOpen" title="Open" data-accelerator="Ctrl+O"><img src="./img/folder.png" />Open&hellip;</button>
			<!-- <button disabled>Run selected</button> -->
			<button id="btnRunAll" title="Run all tests" data-accelerator="F5"><img src="./img/run-all.png" />Run all</button>
			<!-- <button disabled>Stop</button>
			<button>Watch sources</button>
			<button>Export/Produce report</button>
			<button>Preferences</button> -->
			
			<!-- <x-buttonGroup></x-buttonGroup> -->
			<div class="statusDisplay" style="z-index: 99999">
				<table style="font-size: 10pt" cellpadding="0" cellspacing="0">
					<tr>
						<td rowspan="2" style="padding: 0 10px 0 0"><div class="statusIco" style="background-image: url('./img/statuswindow-pass.png'); width: 43px; height: 43px; margin: -1px -2px -2px -1px;"></div></td>
						<td style="font-weight: bold; font-size: 11pt;">Passed</td>
						<td style="padding: 0 10px 0 40px;">
							<div class="timeIco" style="display: inline-block; background-color: purple; width: 16px; height: 16px; vertical-align: middle"></div>
							<span style="vertical-align: middle; padding: 0 0 0 2px">Duration: 24.4s</span>
						</td>
					</tr>
					<tr>
						<td>
							<span class="passFailBadge" style="padding: 0 3px 0 3px; background-color: #FE4E4E; color: #fff; border-radius: 4px">3</span> failed / <span class="passNumberBadge" style="padding: 0 3px 0 3px; background-color: #5ED21E; color: #fff; border-radius: 4px">42</span> passed
						</td>
						<td style="padding: 0 10px 0 40px;">
							<div class="covIco" style="display: inline-block; background-color: purple; width: 16px; height: 16px; vertical-align: middle"></div>
							<span style="vertical-align: middle; padding: 0 0 0 2px">Coverage: N/A</span>
						</td>
					</tr>
				</table>
				<!-- <div class="statusIco" style="background-color: goldenrod; width: 40px; height: 40px;"></div>
				<div class="statusHeader">Failed</div>
				<div class="statusSubheader">
					<span class="passFailBadge" style="padding: 0 3px 0 3px; background-color: #FE4E4E; color: #fff; border-radius: 4px">3</span> failed / <span class="passNumberBadge" style="padding: 0 3px 0 3px; background-color: #5ED21E; color: #fff; border-radius: 4px">42</span> passed
				</div>
				<div class="timeIco" style="background-color: purple; width: 16px; height: 16px;"></div>
				<div class="timeHeader">Duration: 8.6s</div>
				<div class="covIco" style="background-color: purple; width: 16px; height: 16px;"></div>
				<div class="covHeader">Coverage: N/A</div> -->
			</div>

			<x-tabGroup class="right">
				<input type="radio" name="topLevelTabs" id="rResultsTab" checked /><label for="rResultsTab">Results</label>
				<x-tabContent>
					<x-resultsPanel>
						<x-resultsTree>
							<p>dummy 1</p><p>dummy 2</p><p style="color: #FE4E4E">dummy 3: <br />expected {} to be an instance of ParameterContext</p><p>dummy 4</p><p>dummy 5</p><p>dummy 6</p> <!-- TODO red failures indistinct against the background -->
							<p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p>
							<p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p>
							<p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p>
							<p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p><p>dummy</p>
						</x-resultsTree>
					</x-resultsPanel>
				</x-tabContent>
				<input type="radio" name="topLevelTabs" id="rCoverageTab" disabled /><label for="rCoverageTab">Coverage</label>
				<x-tabContent>
					<x-summaryPanel>
						<h1>Summary</h1>
						<h2>No tests run</h2>
						<h2>Overall result: <x-badge class="pass">passed</x-badge></h2>

						<h1>Performance</h1>
						<h2>14.7 seconds</h2>
						<h2>Average: 14.5 seconds</h2>
						<h2>(up 5% from last run)</h2>

						<h1>Coverage</h1>
						<h2>Not available</h2>
						<h2>+ 1.97%</h2>
						<h2>Classes: 88%, Methods: 75%, Branches: 62%</h2>
					</x-summaryPanel>
				</x-tabContent>
			</x-tabGroup>
		</x-toolbar>

		<x-filterBar>
			<span>Show:&nbsp;</span>
			<x-buttonGroup>
				<input type="radio" name="testStatusFilter" id="rStatusFilterAll" checked /><label for="rStatusFilterAll">All</label>
				<input type="radio" name="testStatusFilter" id="rStatusFilterPassed" /><label for="rStatusFilterPassed">Passed</label>
				<input type="radio" name="testStatusFilter" id="rStatusFilterFailed" /><label for="rStatusFilterFailed">Failed</label>
				<input type="radio" name="testStatusFilter" id="rStatusFilterSkipped" /><label for="rStatusFilterSkipped">Skipped</label>
			</x-buttonGroup>
			&nbsp;&nbsp;&nbsp;
			<span>Group by:&nbsp;</span> <select id="groupByDropdown">
				<option value=""></option> <!-- TODO grouping by nothing (ie a flat list) not supported right now -->
				<option value="File">File</option>
				<option value="Test outcome">Test outcome</option>
				<option value="Execution time">Execution time</option>
				<option value="Class/Namespace">Class/Namespace</option>
			</select>
			&nbsp;&nbsp;&nbsp;
			<input id="tests-searchbox" type="search" value="Type to search…" class="placeholder"/ >
		</x-filterBar>


		

		<!--<x-statusbar>&nbsp; Status: Ready | Tests: <x-badge class="pass">54</x-badge> passed, <x-badge class="fail">2</x-badge> failed | Testing in progress: <x-progressbar></x-progressbar></x-statusbar>-->
	</x-shell>

	<!-- TODO should this go in x-shell, should x-shell exist? -->
	<x-markerBanner>Alpha</x-markerBanner>

</body>

<script src="./script/renderer.ts"></script>

<script>

	(function configureSearchBox() {
		const placeholderText = "Type to search…";
		const searchbox = document.getElementById('tests-searchbox');

		searchbox.onblur = function () {
			if (searchbox.value === "") {
				searchbox.value = placeholderText;
				searchbox.classList.toggle("placeholder");
			}
		};

		searchbox.onfocus = function() {
			
			if (searchbox.value === placeholderText) {
				searchbox.value = "";
				searchbox.classList.toggle("placeholder");
			}
		};
	}());

	
</script>

</html>